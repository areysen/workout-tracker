(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[271],{13346:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});var r=s(95155);s(12115);var o=s(35695);function a(e){let{fallback:t="/",label:s="← Back",to:a}=e,n=(0,o.useRouter)();return(0,r.jsx)("button",{onClick:()=>{a?n.push(a):n.back()},className:"px-3 py-1 bg-gradient-to-r from-pink-500 to-pink-700 text-white rounded-2xl shadow-glow hover:shadow-glow-hover transition duration-300 text-sm",children:s})}},18524:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>p,dynamic:()=>h});var r=s(95155),o=s(12115),a=s(35695),n=s(63233),i=s(19433),l=s(13346),d=s(46012),c=s(42827),u=s(36545),m=s(75342);let h="force-dynamic";function p(){let e=(0,a.useRouter)(),[t,s]=(0,o.useState)(null),h=(0,i.Gq)(),p=t?(0,i.KG)(t):"",{showToast:x}=(0,c.d)(),[f,w]=(0,o.useState)(null),[g,b]=(0,o.useState)(!1),k=(0,o.useRef)(null),[y,v]=(0,o.useState)(!1),[j,N]=(0,o.useState)(!0);o.Suspense,m.A,(0,o.useEffect)(()=>{let e=()=>{window.scrollY>10?v(!0):v(!1)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]),(0,o.useEffect)(()=>{(async()=>{N(!0);let{data:e,error:s}=await n.supabase.from("workout_logs").select("*").eq("date",t);s?console.error("Error loading workout summary:",s):w(e[0]),setTimeout(()=>{N(!1)},250)})()},[t]);let S=()=>{clearTimeout(k.current)},D=async()=>{x("Workout deleted! ✨","error",{showUndo:!0,onUndo:S}),e.replace("/calendar"),k.current=setTimeout(async()=>{let{error:e}=await n.supabase.from("workout_logs").delete().eq("date",t);e&&console.error("Error deleting workout:",e)},5e3)};return j?(0,r.jsx)("div",{className:"min-h-screen bg-[#242B2F] text-white flex items-center justify-center",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-pink-400"})}):(0,r.jsxs)("div",{className:"min-h-screen bg-[#242B2F] text-white p-4 max-w-3xl mx-auto",children:[(0,r.jsxs)("div",{className:"sticky top-0 z-10 bg-[#242B2F] pb-4",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center flex-wrap gap-3",children:[(0,r.jsx)(l.A,{}),(0,r.jsxs)("h1",{className:"text-3xl font-bold mb-1",children:["Summary for ",p]})]}),!(null==f?void 0:f.skipped)&&(0,r.jsx)(u.P.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5,ease:"easeOut"},className:"text-center bg-gradient-to-r from-pink-500 to-pink-700 text-white py-4 px-6 rounded-2xl mt-2 shadow-glow border border-pink-400 hover:shadow-glow-hover",children:"\uD83C\uDFC6 Workout Summary — Great Job Reviewing Your Progress!"})]}),f?f.skipped?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"flex flex-col space-y-4",children:(0,r.jsx)("p",{className:"text-gray-400 text-sm",children:"Workout was skipped for this day."})}),(0,r.jsx)("div",{className:"pb-52"}),(0,r.jsx)("div",{className:"fixed bottom-0 left-0 w-full bg-[#242B2F] p-4 space-y-3 z-10 max-w-3xl mx-auto",children:(0,r.jsx)("button",{disabled:!0,className:"w-full bg-gradient-to-br from-gray-700 to-gray-600 text-white font-bold py-2 px-4 rounded-2xl border border-pink-400 shadow-glow cursor-not-allowed",children:"Skipped"})})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"pb-52",children:(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("h2",{className:"text-xl font-semibold text-pink-400 mb-4",children:[f.day," — ",f.muscle_group]}),["warmup","main","cooldown"].map(e=>{var t;return(null==(t=f.exercises[e])?void 0:t.length)>0&&(0,r.jsxs)("div",{className:"mt-6",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold text-white capitalize mb-2",children:e}),(0,r.jsx)("ul",{className:"text-sm space-y-2",children:f.exercises[e].map((t,s)=>(0,r.jsxs)("li",{className:"bg-gradient-to-br from-[#2E353A] to-[#343E44] border border-[#C63663] p-3 rounded",children:[(0,r.jsx)("p",{className:"font-semibold text-white",children:t.name}),(0,r.jsxs)("p",{className:"text-gray-300 text-xs",children:[t.sets&&t.reps?"".concat(t.sets," sets \xd7 ").concat(t.reps," reps"):"",t.duration?"".concat(t.sets&&t.reps?" – ":"").concat(t.duration):"",t.weight?" @ ".concat(t.weight," lbs"):"",t.rpe?" (RPE ".concat(t.rpe,")"):""]}),t.notes&&(0,r.jsxs)("p",{className:"text-xs text-gray-400 mt-1",children:["Note: ",t.notes]})]},"".concat(e,"-").concat(s)))})]},e)})]})}),(0,r.jsxs)("div",{className:"fixed bottom-0 left-0 w-full bg-[#242B2F] p-4 space-y-3 z-10 max-w-3xl mx-auto",children:[t===h&&(0,r.jsx)("button",{className:"w-full bg-gradient-to-r from-pink-500 to-pink-700 text-white font-bold py-2 px-4 rounded-2xl shadow-glow hover:shadow-glow-hover transition duration-300",children:"✏️ Edit Workout"}),(0,r.jsx)("button",{onClick:()=>e.replace("/calendar"),className:"w-full bg-gradient-to-r from-indigo-500 to-indigo-700 text-white font-bold py-2 px-4 rounded-2xl shadow-glow hover:shadow-glow-hover transition duration-300",children:"\uD83D\uDDD3 Return to Calendar"}),(0,r.jsx)("button",{className:"w-full bg-gradient-to-br from-pink-600 to-red-600 text-white font-bold py-2 px-4 rounded-2xl shadow-glow hover:shadow-glow-hover transition duration-300",children:"\uD83D\uDDD1 Delete Workout"})]})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"flex flex-col space-y-4",children:(0,r.jsx)("p",{className:"text-gray-400 text-sm",children:"No workout was logged for this day."})}),(0,r.jsx)("div",{className:"pb-52"}),(0,r.jsx)("div",{className:"fixed bottom-0 left-0 w-full bg-[#242B2F] p-4 space-y-3 z-10 max-w-3xl mx-auto",children:t!==h&&(0,r.jsx)("button",{onClick:async()=>{let{error:s}=await n.supabase.from("workout_logs").insert([{date:t,forecast:!1,skipped:!0,muscle_group:"",day:(0,i.VJ)(t)}]);s?(console.error("Error marking as skipped:",s),x("Failed to mark as skipped. Please try again.","error")):(x("Workout marked as skipped!","success"),e.refresh())},className:"w-full bg-gradient-to-br from-pink-600 to-red-600 text-white font-bold py-2 px-4 rounded-2xl shadow-glow hover:shadow-glow-hover transition duration-300",children:"Mark As Skipped"})})]}),(0,r.jsx)(d.A,{isOpen:g,message:"Are you sure you want to delete this workout?",onCancel:()=>b(!1),onConfirm:()=>{b(!1),D()}})]})}},19433:(e,t,s)=>{"use strict";function r(){let e=new Date,t=e.getFullYear(),s=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return"".concat(t,"-").concat(s,"-").concat(r)}function o(e){let t;if("string"==typeof e){let[s,r,o]=e.split("-").map(Number);t=new Date(s,r-1,o)}else t=e instanceof Date?e:new Date(e);return t.toLocaleDateString("en-US",{weekday:"long"})}function a(e){return new Date(e).toISOString().split("T")[0]}function n(e){let t,{weekday:s="short",month:r="short",day:o="numeric",includeYear:a=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"==typeof e){let[s,r,o]=e.split("-").map(Number);t=new Date(s,r-1,o)}else if(e instanceof Date)t=e;else throw Error("Invalid date input passed to formatDateWithOptions");return t.toLocaleDateString("en-US",{weekday:s,month:r,day:o,...a&&{year:"numeric"}})}s.d(t,{Gq:()=>r,KG:()=>n,VJ:()=>o,hi:()=>a})},35695:(e,t,s)=>{"use strict";var r=s(18999);s.o(r,"usePathname")&&s.d(t,{usePathname:function(){return r.usePathname}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}}),s.o(r,"useSearchParams")&&s.d(t,{useSearchParams:function(){return r.useSearchParams}})},42827:(e,t,s)=>{"use strict";s.d(t,{ToastProvider:()=>n,d:()=>i});var r=s(95155),o=s(12115);let a=(0,o.createContext)();function n(e){let{children:t}=e,[s,n]=(0,o.useState)(""),[i,l]=(0,o.useState)(!1),[d,c]=(0,o.useState)(!1),[u,m]=(0,o.useState)(null),[h,p]=(0,o.useState)("success");return(0,o.useEffect)(()=>{let e;return i&&(e=setTimeout(()=>{l(!1),n(""),c(!1),m(null)},5e3)),()=>clearTimeout(e)},[i,s]),(0,r.jsx)(a.Provider,{value:{message:s,visible:i,toastType:h,showToast:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};p(t),n(e),l(!0),c(s.showUndo||!1),m(()=>s.onUndo||null)},hideToast:()=>{l(!1),n("")},showUndo:d,onUndo:u},children:t})}function i(){return(0,o.useContext)(a)}},46012:(e,t,s)=>{"use strict";s.d(t,{A:()=>o});var r=s(95155);function o(e){let{isOpen:t,message:s,onConfirm:o,onCancel:a}=e;return t?(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,r.jsxs)("div",{className:"bg-gradient-to-br from-pink-500 to-pink-700 p-6 rounded-lg shadow-lg max-w-sm w-full text-center border border-pink-400",children:[(0,r.jsx)("h2",{className:"text-white text-2xl font-extrabold mb-4",children:s}),(0,r.jsxs)("div",{className:"flex gap-4 justify-center mt-6",children:[(0,r.jsx)("button",{onClick:a,className:"px-4 py-2 rounded border border-white text-white font-bold hover:bg-white hover:text-[#242B2F] transition",children:"Cancel"}),(0,r.jsx)("button",{onClick:o,className:"px-4 py-2 rounded bg-red-500 hover:bg-red-600 text-white font-bold transition",children:"Confirm"})]})]})}):null}s(12115)},47586:(e,t,s)=>{Promise.resolve().then(s.bind(s,18524))},63233:(e,t,s)=>{"use strict";s.d(t,{DP:()=>o,JI:()=>n,LJ:()=>a,sA:()=>i,supabase:()=>r});let r=(0,s(10851).UU)("https://yfnbnytutxdbmyvfsyba.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlmbmJueXR1dHhkYm15dmZzeWJhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDQ5MjAwNTksImV4cCI6MjA2MDQ5NjA1OX0.HJhDpx79rDzl5DZIh3qJZbBrSwudG95htPXOs2IGD30",{auth:{persistSession:!0,detectSessionInUrl:!0}}),o=async()=>{let{data:e,error:t}=await r.from("workout_logs").select("*").order("date",{ascending:!0});return t?(console.error("Error fetching workout logs:",t.message),[]):e},a=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30,{data:t,error:s}=await r.from("workout_logs").select("date, skipped").order("date",{ascending:!1}).limit(e);return s?(console.error("Error fetching workout logs for last N days:",s.message),[]):t},n=e=>{let t=0;for(let s of e){if(s.skipped)break;t++}return t},i=e=>{let t=0,s=0;for(let r of e)r.skipped?(s>t&&(t=s),s=0):s++;return s>t&&(t=s),t}},75342:(e,t,s)=>{"use strict";s.d(t,{A:()=>o});var r=s(35695);function o(e){let{param:t,fallback:s,onResult:o}=e,a=(0,r.useSearchParams)().get(t)||s;return o&&o(a),null}}},e=>{var t=t=>e(e.s=t);e.O(0,[851,545,441,684,358],()=>t(47586)),_N_E=e.O()}]);