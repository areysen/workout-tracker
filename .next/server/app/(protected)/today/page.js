(()=>{var e={};e.id=318,e.ids=[318],e.modules={53:(e,t,r)=>{"use strict";r.d(t,{AuthProvider:()=>s});var o=r(2907);(0,o.registerClientReference)(function(){throw Error("Attempted to call dynamic() from the server but dynamic is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/areysen/workout-tracker/lib/AuthContext.js","dynamic");let s=(0,o.registerClientReference)(function(){throw Error("Attempted to call AuthProvider() from the server but AuthProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/areysen/workout-tracker/lib/AuthContext.js","AuthProvider");(0,o.registerClientReference)(function(){throw Error("Attempted to call useAuth() from the server but useAuth is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/areysen/workout-tracker/lib/AuthContext.js","useAuth")},698:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var o=r(687);function s({isOpen:e,message:t,onConfirm:r,onCancel:s}){return e?(0,o.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,o.jsxs)("div",{className:"bg-gradient-to-br from-pink-500 to-pink-700 p-6 rounded-lg shadow-lg max-w-sm w-full text-center border border-pink-400",children:[(0,o.jsx)("h2",{className:"text-white text-2xl font-extrabold mb-4",children:t}),(0,o.jsxs)("div",{className:"flex gap-4 justify-center mt-6",children:[(0,o.jsx)("button",{onClick:s,className:"px-4 py-2 rounded border border-white text-white font-bold hover:bg-white hover:text-[#242B2F] transition",children:"Cancel"}),(0,o.jsx)("button",{onClick:r,className:"px-4 py-2 rounded bg-red-500 hover:bg-red-600 text-white font-bold transition",children:"Confirm"})]})]})}):null}r(3210)},846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1388:(e,t,r)=>{Promise.resolve().then(r.bind(r,7878))},1630:e=>{"use strict";e.exports=require("http")},1645:e=>{"use strict";e.exports=require("net")},1997:e=>{"use strict";e.exports=require("punycode")},2003:(e,t,r)=>{Promise.resolve().then(r.bind(r,8575)),Promise.resolve().then(r.bind(r,53))},2016:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a,dynamic:()=>i});var o=r(687);r(3210);var s=r(6189),n=r(8799);let i="force-dynamic";function a({children:e}){let{user:t}=(0,n.A)();return((0,s.useRouter)(),null===t)?null:(0,o.jsx)(o.Fragment,{children:e})}},2552:()=>{},2648:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u,metadata:()=>c});var o=r(7413),s=r(53),n=r(8575),i=r(1795),a=r.n(i),l=r(9767),d=r.n(l);r(2552);let c={title:"Create Next App",description:"Generated by create next app"};function u({children:e}){return(0,o.jsx)("html",{lang:"en",children:(0,o.jsx)("body",{className:`${a().variable} ${d().variable} antialiased`,children:(0,o.jsx)(s.AuthProvider,{children:(0,o.jsx)(n.ToastProvider,{children:e})})})})}},2831:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>m,dynamic:()=>u});var o=r(687),s=r(3210),n=r(6189),i=r(474);r(3581);var a=r(8799),l=r(3895),d=r(698),c=r(5605);let u="force-dynamic",p={chest:["Drive through your chest, not your shoulders! \uD83C\uDFCB️‍♂️","Control the negative for more gains! \uD83D\uDCA5","Keep your shoulder blades tucked for max power! \uD83D\uDD25"],back:["Pull with your elbows, not your hands! \uD83D\uDCAA","Squeeze your back at the top of every rep! \uD83D\uDE80","Focus on mind-muscle connection! \uD83C\uDFAF"],legs:["Push through your heels for more power! \uD83E\uDDB5","Brace your core before every squat! \uD83D\uDEE1️","Own the bottom of every rep! \uD83E\uDDF1"],arms:["Slow controlled curls > heavy swinging! \uD83C\uDFCB️","Stretch and squeeze on every rep! \uD83C\uDFAF","Lock in your elbows when curling! \uD83D\uDCAA"],shoulders:["Press overhead with control, not momentum! \uD83C\uDFCB️‍♀️","Lead lateral raises with your elbows! \uD83D\uDD25","Stabilize your core during all pressing! \uD83D\uDEE1️"],core:["Control the motion, don't rush it! \uD83E\uDDD8‍♂️","Exhale hard at the top of every crunch! \uD83C\uDF2C️","Focus on tension, not speed! ⚡"],conditioning:["Stay light on your feet! \uD83C\uDFC3‍♂️","Pace yourself — fast start means fast burnout! \uD83E\uDD75","Breathe through your nose to stay calm! \uD83D\uDE24"],default:["Attack today like a champion! \uD83D\uDCA5","Every rep counts! Make them perfect! \uD83C\uDFAF","You vs. You — Win today! \uD83C\uDFC6"]};function h(e=""){let t=p[e?.toLowerCase?.()||""]||p.default;return t[Math.floor(Math.random()*t.length)]}function m(){let{user:e}=(0,a.A)(),[t,u]=(0,s.useState)(void 0),[p,m]=(0,s.useState)(null),[x,f]=(0,s.useState)(!0),[b,g]=(0,s.useState)(!1),[v,w]=(0,s.useState)(!1),[y,k]=(0,s.useState)(!1),[j,C]=(0,s.useState)(0),[P,N]=(0,s.useState)(0),[S,D]=(0,s.useState)(null),A=(0,n.useRouter)(),{showToast:I}=(0,c.d)(),_=(0,l.Gq)(),E=(0,l.KG)(_,{weekday:"long"});return!1===t?(0,o.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex flex-col items-center justify-center z-50",children:(0,o.jsxs)("div",{className:"bg-[#343E44] p-6 rounded-lg text-center",children:[(0,o.jsx)("h2",{className:"text-xl font-semibold text-white mb-4",children:"Let’s finish setting up your account"}),(0,o.jsx)("button",{className:"px-6 py-3 bg-gradient-to-r from-pink-500 to-pink-700 rounded-2xl text-white font-bold",onClick:()=>A.push("/setup"),children:"Go to Setup"})]})}):(0,o.jsxs)("div",{className:"min-h-screen bg-[#242B2F] p-4 max-w-3xl mx-auto text-white",children:[(0,o.jsxs)("h1",{className:"text-3xl font-bold mb-1",children:["\uD83D\uDC4B Welcome Back,"," ",S?.first_name||S?.full_name||e?.user_metadata?.full_name||e?.email||"there","!"]}),(0,o.jsxs)("p",{className:"text-md text-gray-300 mb-6",children:["\uD83D\uDCC5 Today is ",E]}),x?(0,o.jsx)("div",{className:"bg-[#2E353A] p-6 rounded-2xl mb-8 border border-pink-400 flex justify-center items-center h-40 shadow-glow",children:(0,o.jsx)("div",{className:"animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-pink-400"})}):p&&(0,o.jsxs)("div",{className:"bg-[#2E353A] p-6 rounded-2xl mb-8 border border-pink-400 shadow-glow hover:shadow-glow-hover transition duration-300 text-center",children:[(0,o.jsx)("h2",{className:"text-2xl font-extrabold mb-2 text-pink-400",children:p.skipped?"\uD83C\uDFD6️ Recovery Day":"\uD83C\uDFAF Today's Mission"}),(0,o.jsx)("p",{className:"text-lg mb-4 font-semibold",children:p.skipped?`Workout Skipped: ${p.muscle_group||"Workout"}`:p.forecast?`Planned Workout: ${p.workout_name||"Workout"}`:`Completed Workout: ${p.muscle_group||"Workout"}`}),(0,o.jsx)("p",{className:"text-sm text-gray-400 italic",children:h(p?.muscle_group)})]}),(0,o.jsxs)("div",{className:"flex flex-col gap-4 mb-6",children:[p?.skipped?(0,o.jsx)("button",{disabled:!0,className:"bg-[#4A5568] text-white py-3 px-6 rounded-2xl font-semibold shadow-glow hover:shadow-glow-hover transition duration-300 text-center",children:"Skipped"}):p?.forecast?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("button",{className:"bg-gradient-to-r from-pink-500 to-pink-700 text-white py-3 px-6 rounded-2xl font-bold text-lg shadow-glow hover:shadow-glow-hover transition duration-300",onClick:()=>{let e=p?.forecast&&p?.template_id?`?templateId=${p.template_id}`:"";A.push(`/log-workout${e}`)},children:"Start Workout"}),(0,o.jsx)("button",{className:"bg-gradient-to-r from-pink-600 to-red-600 text-white py-3 px-6 rounded-2xl font-bold text-lg shadow-glow hover:shadow-glow-hover transition duration-300",onClick:()=>w(!0),children:"Skip Today"})]}):(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("button",{className:"bg-gradient-to-r from-pink-500 to-pink-700 text-white py-3 px-6 rounded-2xl font-bold text-lg shadow-glow hover:shadow-glow-hover transition duration-300",onClick:()=>A.push(`/summary/${_}`,{state:{fromTodayView:!0}}),children:"View Summary"})}),(0,o.jsx)("button",{className:"flex items-center justify-center bg-gradient-to-r from-indigo-500 to-indigo-700 text-white py-3 px-6 rounded-2xl font-semibold shadow-glow hover:shadow-glow-hover transition duration-300",onClick:()=>A.push("/calendar"),children:"\uD83D\uDCC5 View Calendar"})]}),(0,o.jsx)("div",{className:"bg-[#2E353A] p-6 rounded-2xl mb-6 border border-pink-400 shadow-glow hover:shadow-glow-hover transition duration-300 text-center",children:x?(0,o.jsxs)("div",{className:"animate-pulse space-y-2",children:[(0,o.jsx)("div",{className:"h-6 bg-gray-700 rounded-2xl w-1/2 mx-auto"}),(0,o.jsx)("div",{className:"h-4 bg-gray-700 rounded-2xl w-2/3 mx-auto"})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("h2",{className:"text-lg font-semibold mb-2 text-gray-300",children:"\uD83D\uDCC8 Your Progress"}),j>0?(0,o.jsxs)("p",{className:"text-gray-200",children:["\uD83D\uDD25 Current Streak:"," ",(0,o.jsxs)("span",{className:"font-bold",children:[j," days"]})]}):(0,o.jsx)("p",{className:"text-gray-200",children:"\uD83D\uDC63 Log your first workout to start your streak!"}),P>0&&(0,o.jsxs)("p",{className:"text-gray-200 mt-1",children:["\uD83C\uDFC6 Best Streak:"," ",(0,o.jsxs)("span",{className:"font-bold",children:[P," days"]})]})]})}),(0,o.jsxs)("div",{className:"mt-6 p-6 bg-[#2E353A] rounded-2xl border border-pink-400 shadow-glow hover:shadow-glow-hover transition duration-300 text-center",children:[(0,o.jsx)("h2",{className:"text-lg font-bold mb-2 text-pink-400",children:"⚡ Shortcuts"}),(0,o.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,o.jsxs)("button",{className:"flex items-center justify-center bg-gradient-to-r from-pink-500 to-pink-700 text-white py-3 px-6 rounded-2xl font-semibold shadow-glow hover:shadow-glow-hover transition duration-300",onClick:()=>k(!0),children:[(0,o.jsx)(i.default,{src:"/assets/CrunchIcon.png",alt:"Crunch",width:20,height:20,className:"h-5 w-5 mr-2"}),(0,o.jsx)("span",{children:"Crunch Barcode"})]}),(0,o.jsxs)("button",{onClick:()=>window.location.href="shortcuts://run-shortcut?name=Open%20MacroFactor",className:"flex items-center justify-center bg-gradient-to-r from-indigo-500 to-indigo-700 text-white py-3 px-6 rounded-2xl font-semibold shadow-glow hover:shadow-glow-hover transition duration-300",children:[(0,o.jsx)(i.default,{src:"/assets/MacroFactorIcon.png",alt:"MacroFactor",width:20,height:20,className:"h-5 w-5 mr-2"}),(0,o.jsx)("span",{children:"Open MacroFactor"})]}),(0,o.jsx)("button",{className:"bg-[#4A5568] text-white py-3 px-6 rounded-2xl font-semibold shadow-glow hover:shadow-glow-hover transition duration-300 text-center",onClick:()=>A.push("/templates"),children:"\uD83D\uDDC2 Templates"})]})]}),(0,o.jsxs)("div",{className:"mt-6 p-6 bg-[#2E353A] rounded-2xl border border-pink-400 shadow-glow hover:shadow-glow-hover transition duration-300 text-center",children:[(0,o.jsx)("h2",{className:"text-lg font-bold mb-2 text-pink-400",children:"\uD83E\uDD16 CoachBot Tip"}),x?(0,o.jsxs)("div",{className:"space-y-2 animate-pulse",children:[(0,o.jsx)("div",{className:"h-4 bg-gray-700 rounded-2xl w-3/4"}),(0,o.jsx)("div",{className:"h-4 bg-gray-700 rounded-2xl w-2/3"})]}):(0,o.jsx)("p",{className:"text-sm text-gray-300",children:h(p?.muscle_group)})]}),(0,o.jsx)(d.A,{isOpen:v,message:"Are you sure you want to skip today's workout?",onCancel:()=>w(!1),onConfirm:async()=>{w(!1);let{supabase:e}=await Promise.resolve().then(r.bind(r,3581)),{error:t}=await e.from("workout_logs").insert([{date:_,forecast:!1,skipped:!0,muscle_group:p?.workout_name||"",day:(0,l.VJ)(_)}]);t?(console.error("Error skipping workout:",t),I("Failed to skip workout. Please try again.","error")):A.push("/mission-complete?type=skipped")}}),y&&(0,o.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-75 z-50",onClick:()=>k(!1),children:(0,o.jsx)("div",{className:"bg-white px-2 py-4 rounded-lg overflow-hidden w-[95vw] max-w-none",children:(0,o.jsx)(i.default,{src:"/assets/CrunchBarcode.png",alt:"Crunch Membership Barcode",width:800,height:400,className:"w-full h-auto cursor-pointer",onClick:()=>k(!1)})})})]})}},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3581:(e,t,r)=>{"use strict";r.d(t,{DP:()=>s,JI:()=>i,LJ:()=>n,sA:()=>a,supabase:()=>o});let o=(0,r(4025).UU)("https://yfnbnytutxdbmyvfsyba.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlmbmJueXR1dHhkYm15dmZzeWJhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDQ5MjAwNTksImV4cCI6MjA2MDQ5NjA1OX0.HJhDpx79rDzl5DZIh3qJZbBrSwudG95htPXOs2IGD30",{auth:{persistSession:!0,detectSessionInUrl:!0}}),s=async()=>{let{data:e,error:t}=await o.from("workout_logs").select("*").order("date",{ascending:!0});return t?(console.error("Error fetching workout logs:",t.message),[]):e},n=async(e=30)=>{let{data:t,error:r}=await o.from("workout_logs").select("date, skipped").order("date",{ascending:!1}).limit(e);return r?(console.error("Error fetching workout logs for last N days:",r.message),[]):t},i=e=>{let t=0;for(let r of e){if(r.skipped)break;t++}return t},a=e=>{let t=0,r=0;for(let o of e)o.skipped?(r>t&&(t=r),r=0):r++;return r>t&&(t=r),t}},3873:e=>{"use strict";e.exports=require("path")},3895:(e,t,r)=>{"use strict";function o(){let e=new Date,t=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0");return`${t}-${r}-${o}`}function s(e){let t;if("string"==typeof e){let[r,o,s]=e.split("-").map(Number);t=new Date(r,o-1,s)}else t=e instanceof Date?e:new Date(e);return t.toLocaleDateString("en-US",{weekday:"long"})}function n(e){return new Date(e).toISOString().split("T")[0]}function i(e,{weekday:t="short",month:r="short",day:o="numeric",includeYear:s=!1}={}){let n;if("string"==typeof e){let[t,r,o]=e.split("-").map(Number);n=new Date(t,r-1,o)}else if(e instanceof Date)n=e;else throw Error("Invalid date input passed to formatDateWithOptions");return n.toLocaleDateString("en-US",{weekday:t,month:r,day:o,...s&&{year:"numeric"}})}r.d(t,{Gq:()=>o,KG:()=>i,VJ:()=>s,hi:()=>n})},3949:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n,dynamic:()=>s});var o=r(2907);let s=(0,o.registerClientReference)(function(){throw Error("Attempted to call dynamic() from the server but dynamic is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/areysen/workout-tracker/app/(protected)/today/page.js","dynamic"),n=(0,o.registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/areysen/workout-tracker/app/(protected)/today/page.js\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/areysen/workout-tracker/app/(protected)/today/page.js","default")},4075:e=>{"use strict";e.exports=require("zlib")},4574:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d});var o=r(5239),s=r(8088),n=r(8170),i=r.n(n),a=r(893),l={};for(let e in a)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>a[e]);r.d(t,l);let d={children:["",{children:["(protected)",{children:["today",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,3949)),"/Users/areysen/workout-tracker/app/(protected)/today/page.js"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,7878)),"/Users/areysen/workout-tracker/app/(protected)/layout.js"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,7398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,9999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,5284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,6055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,2648)),"/Users/areysen/workout-tracker/app/layout.js"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,7398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,9999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,5284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,6055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["/Users/areysen/workout-tracker/app/(protected)/today/page.js"],u={require:r,loadChunk:()=>Promise.resolve()},p=new o.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/(protected)/today/page",pathname:"/today",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},4631:e=>{"use strict";e.exports=require("tls")},4735:e=>{"use strict";e.exports=require("events")},5511:e=>{"use strict";e.exports=require("crypto")},5517:(e,t,r)=>{Promise.resolve().then(r.bind(r,2831))},5591:e=>{"use strict";e.exports=require("https")},5605:(e,t,r)=>{"use strict";r.d(t,{ToastProvider:()=>i,d:()=>a});var o=r(687),s=r(3210);let n=(0,s.createContext)();function i({children:e}){let[t,r]=(0,s.useState)(""),[i,a]=(0,s.useState)(!1),[l,d]=(0,s.useState)(!1),[c,u]=(0,s.useState)(null),[p,h]=(0,s.useState)("success");return(0,o.jsx)(n.Provider,{value:{message:t,visible:i,toastType:p,showToast:(e,t="success",o={})=>{h(t),r(e),a(!0),d(o.showUndo||!1),u(()=>o.onUndo||null)},hideToast:()=>{a(!1),r("")},showUndo:l,onUndo:c},children:e})}function a(){return(0,s.useContext)(n)}},6055:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var o=r(1658);let s=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,o.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},6957:(e,t,r)=>{Promise.resolve().then(r.bind(r,3949))},7468:(e,t,r)=>{Promise.resolve().then(r.bind(r,2016))},7659:(e,t,r)=>{Promise.resolve().then(r.bind(r,5605)),Promise.resolve().then(r.bind(r,8799))},7878:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n,dynamic:()=>s});var o=r(2907);let s=(0,o.registerClientReference)(function(){throw Error("Attempted to call dynamic() from the server but dynamic is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/areysen/workout-tracker/app/(protected)/layout.js","dynamic"),n=(0,o.registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/areysen/workout-tracker/app/(protected)/layout.js\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/areysen/workout-tracker/app/(protected)/layout.js","default")},7910:e=>{"use strict";e.exports=require("stream")},8575:(e,t,r)=>{"use strict";r.d(t,{ToastProvider:()=>s});var o=r(2907);(0,o.registerClientReference)(function(){throw Error("Attempted to call dynamic() from the server but dynamic is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/areysen/workout-tracker/components/ToastContext.js","dynamic");let s=(0,o.registerClientReference)(function(){throw Error("Attempted to call ToastProvider() from the server but ToastProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/areysen/workout-tracker/components/ToastContext.js","ToastProvider");(0,o.registerClientReference)(function(){throw Error("Attempted to call useToast() from the server but useToast is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/areysen/workout-tracker/components/ToastContext.js","useToast")},8799:(e,t,r)=>{"use strict";r.d(t,{A:()=>l,AuthProvider:()=>a});var o=r(687),s=r(3210),n=r(3581);let i=(0,s.createContext)(),a=({children:e})=>{let[t,r]=(0,s.useState)(void 0),[a,l]=(0,s.useState)(void 0),[d,c]=(0,s.useState)(void 0);return(0,s.useEffect)(()=>{n.supabase.auth.getSession().then(({data:{session:e}})=>{r(e),l(e?.user??null)});let{data:{subscription:e}}=n.supabase.auth.onAuthStateChange((e,t)=>{r(t),l(t?.user??null),t?.user?(async()=>{let{data:e,error:r}=await n.supabase.from("profiles").select("*").eq("user_id",t.user.id).single();r||!e?c(!1):c(!0)})():c(void 0)});return()=>{e.unsubscribe()}},[]),(0,o.jsx)(i.Provider,{value:{user:a,session:t,hasProfile:d,signInWithMagicLink:e=>n.supabase.auth.signInWithOtp({email:e,options:{emailRedirectTo:`${window.location.origin}/auth-callback`}}),signInWithProvider:e=>n.supabase.auth.signInWithOAuth({provider:e}),signInWithEmailPassword:(e,t)=>n.supabase.auth.signInWithPassword({email:e,password:t}),signUpWithEmailPassword:(e,t)=>n.supabase.auth.signUp({email:e,password:t},{emailRedirectTo:`${window.location.origin}/auth-callback`}),signOut:()=>n.supabase.auth.signOut()},children:e})},l=()=>(0,s.useContext)(i)},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9392:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,6346,23)),Promise.resolve().then(r.t.bind(r,7924,23)),Promise.resolve().then(r.t.bind(r,5656,23)),Promise.resolve().then(r.t.bind(r,99,23)),Promise.resolve().then(r.t.bind(r,8243,23)),Promise.resolve().then(r.t.bind(r,8827,23)),Promise.resolve().then(r.t.bind(r,2763,23)),Promise.resolve().then(r.t.bind(r,7173,23))},9428:e=>{"use strict";e.exports=require("buffer")},9551:e=>{"use strict";e.exports=require("url")},9664:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,6444,23)),Promise.resolve().then(r.t.bind(r,6042,23)),Promise.resolve().then(r.t.bind(r,8170,23)),Promise.resolve().then(r.t.bind(r,9477,23)),Promise.resolve().then(r.t.bind(r,9345,23)),Promise.resolve().then(r.t.bind(r,2089,23)),Promise.resolve().then(r.t.bind(r,6577,23)),Promise.resolve().then(r.t.bind(r,1307,23))}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),o=t.X(0,[719,261,934,474],()=>r(4574));module.exports=o})();