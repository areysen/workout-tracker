(()=>{var e={};e.id=520,e.ids=[520],e.modules={53:(e,t,r)=>{"use strict";r.d(t,{AuthProvider:()=>o});var s=r(2907);(0,s.registerClientReference)(function(){throw Error("Attempted to call dynamic() from the server but dynamic is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/areysen/workout-tracker/lib/AuthContext.js","dynamic");let o=(0,s.registerClientReference)(function(){throw Error("Attempted to call AuthProvider() from the server but AuthProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/areysen/workout-tracker/lib/AuthContext.js","AuthProvider");(0,s.registerClientReference)(function(){throw Error("Attempted to call useAuth() from the server but useAuth is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/areysen/workout-tracker/lib/AuthContext.js","useAuth")},189:(e,t,r)=>{Promise.resolve().then(r.bind(r,7795))},846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1630:e=>{"use strict";e.exports=require("http")},1645:e=>{"use strict";e.exports=require("net")},1970:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>d,pages:()=>c,routeModule:()=>p,tree:()=>u});var s=r(5239),o=r(8088),n=r(8170),i=r.n(n),a=r(893),l={};for(let e in a)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>a[e]);r.d(t,l);let u={children:["",{children:["login",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,7795)),"/Users/areysen/workout-tracker/app/login/page.js"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,6055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,2648)),"/Users/areysen/workout-tracker/app/layout.js"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,7398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,9999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,5284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,6055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["/Users/areysen/workout-tracker/app/login/page.js"],d={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:o.RouteKind.APP_PAGE,page:"/login/page",pathname:"/login",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:u}})},1997:e=>{"use strict";e.exports=require("punycode")},2003:(e,t,r)=>{Promise.resolve().then(r.bind(r,8575)),Promise.resolve().then(r.bind(r,53))},2552:()=>{},2648:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d,metadata:()=>c});var s=r(7413),o=r(53),n=r(8575),i=r(1795),a=r.n(i),l=r(9767),u=r.n(l);r(2552);let c={title:"Create Next App",description:"Generated by create next app"};function d({children:e}){return(0,s.jsx)("html",{lang:"en",children:(0,s.jsx)("body",{className:`${a().variable} ${u().variable} antialiased`,children:(0,s.jsx)(o.AuthProvider,{children:(0,s.jsx)(n.ToastProvider,{children:e})})})})}},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3581:(e,t,r)=>{"use strict";r.d(t,{DP:()=>o,JI:()=>i,LJ:()=>n,sA:()=>a,supabase:()=>s});let s=(0,r(4025).UU)("https://yfnbnytutxdbmyvfsyba.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlmbmJueXR1dHhkYm15dmZzeWJhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDQ5MjAwNTksImV4cCI6MjA2MDQ5NjA1OX0.HJhDpx79rDzl5DZIh3qJZbBrSwudG95htPXOs2IGD30",{auth:{persistSession:!0,detectSessionInUrl:!0}}),o=async()=>{let{data:e,error:t}=await s.from("workout_logs").select("*").order("date",{ascending:!0});return t?(console.error("Error fetching workout logs:",t.message),[]):e},n=async(e=30)=>{let{data:t,error:r}=await s.from("workout_logs").select("date, skipped").order("date",{ascending:!1}).limit(e);return r?(console.error("Error fetching workout logs for last N days:",r.message),[]):t},i=e=>{let t=0;for(let r of e){if(r.skipped)break;t++}return t},a=e=>{let t=0,r=0;for(let s of e)s.skipped?(r>t&&(t=r),r=0):r++;return r>t&&(t=r),t}},3873:e=>{"use strict";e.exports=require("path")},4075:e=>{"use strict";e.exports=require("zlib")},4631:e=>{"use strict";e.exports=require("tls")},4735:e=>{"use strict";e.exports=require("events")},5511:e=>{"use strict";e.exports=require("crypto")},5591:e=>{"use strict";e.exports=require("https")},5605:(e,t,r)=>{"use strict";r.d(t,{ToastProvider:()=>i,d:()=>a});var s=r(687),o=r(3210);let n=(0,o.createContext)();function i({children:e}){let[t,r]=(0,o.useState)(""),[i,a]=(0,o.useState)(!1),[l,u]=(0,o.useState)(!1),[c,d]=(0,o.useState)(null),[p,h]=(0,o.useState)("success");return(0,s.jsx)(n.Provider,{value:{message:t,visible:i,toastType:p,showToast:(e,t="success",s={})=>{h(t),r(e),a(!0),u(s.showUndo||!1),d(()=>s.onUndo||null)},hideToast:()=>{a(!1),r("")},showUndo:l,onUndo:c},children:e})}function a(){return(0,o.useContext)(n)}},6055:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var s=r(1658);let o=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},7453:(e,t,r)=>{Promise.resolve().then(r.bind(r,9741))},7659:(e,t,r)=>{Promise.resolve().then(r.bind(r,5605)),Promise.resolve().then(r.bind(r,8799))},7795:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n,dynamic:()=>o});var s=r(2907);let o=(0,s.registerClientReference)(function(){throw Error("Attempted to call dynamic() from the server but dynamic is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/areysen/workout-tracker/app/login/page.js","dynamic"),n=(0,s.registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/areysen/workout-tracker/app/login/page.js\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/areysen/workout-tracker/app/login/page.js","default")},7910:e=>{"use strict";e.exports=require("stream")},8575:(e,t,r)=>{"use strict";r.d(t,{ToastProvider:()=>o});var s=r(2907);(0,s.registerClientReference)(function(){throw Error("Attempted to call dynamic() from the server but dynamic is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/areysen/workout-tracker/components/ToastContext.js","dynamic");let o=(0,s.registerClientReference)(function(){throw Error("Attempted to call ToastProvider() from the server but ToastProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/areysen/workout-tracker/components/ToastContext.js","ToastProvider");(0,s.registerClientReference)(function(){throw Error("Attempted to call useToast() from the server but useToast is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/areysen/workout-tracker/components/ToastContext.js","useToast")},8799:(e,t,r)=>{"use strict";r.d(t,{A:()=>l,AuthProvider:()=>a});var s=r(687),o=r(3210),n=r(3581);let i=(0,o.createContext)(),a=({children:e})=>{let[t,r]=(0,o.useState)(void 0),[a,l]=(0,o.useState)(void 0),[u,c]=(0,o.useState)(void 0);return(0,o.useEffect)(()=>{n.supabase.auth.getSession().then(({data:{session:e}})=>{r(e),l(e?.user??null)});let{data:{subscription:e}}=n.supabase.auth.onAuthStateChange((e,t)=>{r(t),l(t?.user??null),t?.user?(async()=>{let{data:e,error:r}=await n.supabase.from("profiles").select("*").eq("user_id",t.user.id).single();r||!e?c(!1):c(!0)})():c(void 0)});return()=>{e.unsubscribe()}},[]),(0,s.jsx)(i.Provider,{value:{user:a,session:t,hasProfile:u,signInWithMagicLink:e=>n.supabase.auth.signInWithOtp({email:e,options:{emailRedirectTo:`${window.location.origin}/auth-callback`}}),signInWithProvider:e=>n.supabase.auth.signInWithOAuth({provider:e}),signInWithEmailPassword:(e,t)=>n.supabase.auth.signInWithPassword({email:e,password:t}),signUpWithEmailPassword:(e,t)=>n.supabase.auth.signUp({email:e,password:t},{emailRedirectTo:`${window.location.origin}/auth-callback`}),signOut:()=>n.supabase.auth.signOut()},children:e})},l=()=>(0,o.useContext)(i)},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9392:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,6346,23)),Promise.resolve().then(r.t.bind(r,7924,23)),Promise.resolve().then(r.t.bind(r,5656,23)),Promise.resolve().then(r.t.bind(r,99,23)),Promise.resolve().then(r.t.bind(r,8243,23)),Promise.resolve().then(r.t.bind(r,8827,23)),Promise.resolve().then(r.t.bind(r,2763,23)),Promise.resolve().then(r.t.bind(r,7173,23))},9428:e=>{"use strict";e.exports=require("buffer")},9551:e=>{"use strict";e.exports=require("url")},9664:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,6444,23)),Promise.resolve().then(r.t.bind(r,6042,23)),Promise.resolve().then(r.t.bind(r,8170,23)),Promise.resolve().then(r.t.bind(r,9477,23)),Promise.resolve().then(r.t.bind(r,9345,23)),Promise.resolve().then(r.t.bind(r,2089,23)),Promise.resolve().then(r.t.bind(r,6577,23)),Promise.resolve().then(r.t.bind(r,1307,23))},9741:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u,dynamic:()=>l});var s=r(687),o=r(3210),n=r(8799),i=r(474),a=r(6189);let l="force-dynamic";function u(){let[e,t]=(0,o.useState)(""),[r,l]=(0,o.useState)(""),[u,c]=(0,o.useState)(!1),[d,p]=(0,o.useState)(null),[h,m]=(0,o.useState)(!1),{signInWithMagicLink:f,signInWithProvider:v,signInWithEmailPassword:b,signUpWithEmailPassword:g}=(0,n.A)(),x=(0,a.useRouter)(),y=async t=>{let s;t.preventDefault(),c(!0);let{error:o}=h&&r?await g(e,r):r?await b(e,r):await f(e);o?p({type:"error",text:o.message}):(h?(p({type:"success",text:"✅ Check your inbox to confirm your email!"}),m(!1)):p({type:"success",text:r?"✅ Signed in successfully!":"✅ Check your inbox for the magic link!"}),r&&x.push("/today")),c(!1)};return(0,s.jsxs)("div",{className:"min-h-screen flex flex-col items-center justify-center bg-[#242B2F] p-4",children:[(0,s.jsxs)("form",{onSubmit:y,className:"bg-[#343E44] p-6 rounded-lg w-full max-w-sm space-y-4",children:[(0,s.jsx)("h1",{className:"text-2xl font-semibold text-white text-center",children:"Welcome Back"}),(0,s.jsx)("div",{className:"space-y-2",children:(0,s.jsxs)("button",{type:"button",onClick:()=>v("google"),className:"w-full flex items-center justify-center py-2 rounded-2xl bg-white border border-gray-300 hover:bg-gray-50 transition",children:[(0,s.jsx)(i.default,{src:"/assets/google-logo.png",alt:"Google logo",width:20,height:20,className:"mr-2"}),"Continue with Google"]})}),(0,s.jsxs)("div",{className:"flex items-center my-4",children:[(0,s.jsx)("hr",{className:"flex-grow border-gray-600"}),(0,s.jsx)("span",{className:"px-3 text-gray-400",children:"or"}),(0,s.jsx)("hr",{className:"flex-grow border-gray-600"})]}),d&&(0,s.jsx)("div",{className:`text-sm ${"error"===d.type?"text-red-400":"text-green-400"}`,children:d.text}),(0,s.jsx)("input",{type:"email",placeholder:"you@example.com",required:!0,value:e,onChange:e=>t(e.target.value),className:"w-full px-3 py-2 rounded-2xl bg-[#242B2F] text-white focus:outline-none"}),(0,s.jsx)("input",{type:"password",placeholder:"Password (leave blank for magic link)",value:r,onChange:e=>l(e.target.value),className:"w-full px-3 py-2 rounded-2xl bg-[#242B2F] text-white focus:outline-none"}),(0,s.jsx)("button",{type:"submit",disabled:u,className:"w-full py-2 rounded-2xl bg-gradient-to-r from-pink-500 to-pink-700 text-white shadow-glow hover:shadow-glow-hover transition",children:u?h?"Signing Up…":r?"Signing In…":"Sending…":h?"Sign Up":r?"Sign In":"Email me a link"})]}),(0,s.jsxs)("p",{className:"mt-4 text-sm text-gray-400 text-center",children:[h?"Already have an account? ":"Don't have an account? ",(0,s.jsx)("button",{type:"button",className:"underline",onClick:()=>m(!h),children:h?"Sign in":"Sign up"})]})]})}}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[719,261,934,474],()=>r(1970));module.exports=s})();