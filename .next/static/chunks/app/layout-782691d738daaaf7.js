(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{5445:(e,t,s)=>{Promise.resolve().then(s.bind(s,42827)),Promise.resolve().then(s.bind(s,8333)),Promise.resolve().then(s.t.bind(s,64146,23)),Promise.resolve().then(s.t.bind(s,16686,23)),Promise.resolve().then(s.t.bind(s,58676,23))},8333:(e,t,s)=>{"use strict";s.d(t,{A:()=>l,AuthProvider:()=>r});var a=s(95155),i=s(12115),n=s(63233);let o=(0,i.createContext)(),r=e=>{let{children:t}=e,[s,r]=(0,i.useState)(void 0),[l,u]=(0,i.useState)(void 0),[c,d]=(0,i.useState)(void 0);return(0,i.useEffect)(()=>{n.supabase.auth.getSession().then(e=>{var t;let{data:{session:s}}=e;r(s),u(null!=(t=null==s?void 0:s.user)?t:null)});let{data:{subscription:e}}=n.supabase.auth.onAuthStateChange((e,t)=>{var s;r(t),u(null!=(s=null==t?void 0:t.user)?s:null),(null==t?void 0:t.user)?(async()=>{let{data:e,error:s}=await n.supabase.from("profiles").select("*").eq("user_id",t.user.id).single();s||!e?d(!1):d(!0)})():d(void 0)});return()=>{e.unsubscribe()}},[]),(0,a.jsx)(o.Provider,{value:{user:l,session:s,hasProfile:c,signInWithMagicLink:e=>n.supabase.auth.signInWithOtp({email:e,options:{emailRedirectTo:"".concat(window.location.origin,"/auth-callback")}}),signInWithProvider:e=>n.supabase.auth.signInWithOAuth({provider:e}),signInWithEmailPassword:(e,t)=>n.supabase.auth.signInWithPassword({email:e,password:t}),signUpWithEmailPassword:(e,t)=>n.supabase.auth.signUp({email:e,password:t},{emailRedirectTo:"".concat(window.location.origin,"/auth-callback")}),signOut:()=>n.supabase.auth.signOut()},children:t})},l=()=>(0,i.useContext)(o)},16686:e=>{e.exports={style:{fontFamily:"'Geist Mono', 'Geist Mono Fallback'",fontStyle:"normal"},className:"__className_9a8899",variable:"__variable_9a8899"}},42827:(e,t,s)=>{"use strict";s.d(t,{ToastProvider:()=>o,d:()=>r});var a=s(95155),i=s(12115);let n=(0,i.createContext)();function o(e){let{children:t}=e,[s,o]=(0,i.useState)(""),[r,l]=(0,i.useState)(!1),[u,c]=(0,i.useState)(!1),[d,h]=(0,i.useState)(null),[b,m]=(0,i.useState)("success");return(0,i.useEffect)(()=>{let e;return r&&(e=setTimeout(()=>{l(!1),o(""),c(!1),h(null)},5e3)),()=>clearTimeout(e)},[r,s]),(0,a.jsx)(n.Provider,{value:{message:s,visible:r,toastType:b,showToast:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};m(t),o(e),l(!0),c(s.showUndo||!1),h(()=>s.onUndo||null)},hideToast:()=>{l(!1),o("")},showUndo:u,onUndo:d},children:t})}function r(){return(0,i.useContext)(n)}},58676:()=>{},63233:(e,t,s)=>{"use strict";s.d(t,{DP:()=>i,JI:()=>o,LJ:()=>n,sA:()=>r,supabase:()=>a});let a=(0,s(10851).UU)("https://yfnbnytutxdbmyvfsyba.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlmbmJueXR1dHhkYm15dmZzeWJhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDQ5MjAwNTksImV4cCI6MjA2MDQ5NjA1OX0.HJhDpx79rDzl5DZIh3qJZbBrSwudG95htPXOs2IGD30",{auth:{persistSession:!0,detectSessionInUrl:!0}}),i=async()=>{let{data:e,error:t}=await a.from("workout_logs").select("*").order("date",{ascending:!0});return t?(console.error("Error fetching workout logs:",t.message),[]):e},n=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30,{data:t,error:s}=await a.from("workout_logs").select("date, skipped").order("date",{ascending:!1}).limit(e);return s?(console.error("Error fetching workout logs for last N days:",s.message),[]):t},o=e=>{let t=0;for(let s of e){if(s.skipped)break;t++}return t},r=e=>{let t=0,s=0;for(let a of e)a.skipped?(s>t&&(t=s),s=0):s++;return s>t&&(t=s),t}},64146:e=>{e.exports={style:{fontFamily:"'Geist', 'Geist Fallback'",fontStyle:"normal"},className:"__className_5cfdac",variable:"__variable_5cfdac"}}},e=>{var t=t=>e(e.s=t);e.O(0,[49,851,441,684,358],()=>t(5445)),_N_E=e.O()}]);