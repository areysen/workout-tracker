(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[947],{10729:t=>{"use strict";var e={linear:function(t,e,i,s){return(i-e)*t/s+e},easeInQuad:function(t,e,i,s){return(i-e)*(t/=s)*t+e},easeOutQuad:function(t,e,i,s){return-(i-e)*(t/=s)*(t-2)+e},easeInOutQuad:function(t,e,i,s){var n=i-e;return(t/=s/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e},easeInCubic:function(t,e,i,s){return(i-e)*(t/=s)*t*t+e},easeOutCubic:function(t,e,i,s){return(i-e)*((t=t/s-1)*t*t+1)+e},easeInOutCubic:function(t,e,i,s){var n=i-e;return(t/=s/2)<1?n/2*t*t*t+e:n/2*((t-=2)*t*t+2)+e},easeInQuart:function(t,e,i,s){return(i-e)*(t/=s)*t*t*t+e},easeOutQuart:function(t,e,i,s){return-(i-e)*((t=t/s-1)*t*t*t-1)+e},easeInOutQuart:function(t,e,i,s){var n=i-e;return(t/=s/2)<1?n/2*t*t*t*t+e:-n/2*((t-=2)*t*t*t-2)+e},easeInQuint:function(t,e,i,s){return(i-e)*(t/=s)*t*t*t*t+e},easeOutQuint:function(t,e,i,s){return(i-e)*((t=t/s-1)*t*t*t*t+1)+e},easeInOutQuint:function(t,e,i,s){var n=i-e;return(t/=s/2)<1?n/2*t*t*t*t*t+e:n/2*((t-=2)*t*t*t*t+2)+e},easeInSine:function(t,e,i,s){var n=i-e;return-n*Math.cos(t/s*(Math.PI/2))+n+e},easeOutSine:function(t,e,i,s){return(i-e)*Math.sin(t/s*(Math.PI/2))+e},easeInOutSine:function(t,e,i,s){return-(i-e)/2*(Math.cos(Math.PI*t/s)-1)+e},easeInExpo:function(t,e,i,s){return 0==t?e:(i-e)*Math.pow(2,10*(t/s-1))+e},easeOutExpo:function(t,e,i,s){var n=i-e;return t==s?e+n:n*(-Math.pow(2,-10*t/s)+1)+e},easeInOutExpo:function(t,e,i,s){var n=i-e;return 0===t?e:t===s?e+n:(t/=s/2)<1?n/2*Math.pow(2,10*(t-1))+e:n/2*(-Math.pow(2,-10*--t)+2)+e},easeInCirc:function(t,e,i,s){return-(i-e)*(Math.sqrt(1-(t/=s)*t)-1)+e},easeOutCirc:function(t,e,i,s){return(i-e)*Math.sqrt(1-(t=t/s-1)*t)+e},easeInOutCirc:function(t,e,i,s){var n=i-e;return(t/=s/2)<1?-n/2*(Math.sqrt(1-t*t)-1)+e:n/2*(Math.sqrt(1-(t-=2)*t)+1)+e},easeInElastic:function(t,e,i,s){var n,r,a,o=i-e;return(a=1.70158,r=0,n=o,0===t)?e:1==(t/=s)?e+o:(r||(r=.3*s),n<Math.abs(o)?(n=o,a=r/4):a=r/(2*Math.PI)*Math.asin(o/n),-(n*Math.pow(2,10*(t-=1))*Math.sin(2*Math.PI*(t*s-a)/r))+e)},easeOutElastic:function(t,e,i,s){var n,r,a,o=i-e;return(a=1.70158,r=0,n=o,0===t)?e:1==(t/=s)?e+o:(r||(r=.3*s),n<Math.abs(o)?(n=o,a=r/4):a=r/(2*Math.PI)*Math.asin(o/n),n*Math.pow(2,-10*t)*Math.sin(2*Math.PI*(t*s-a)/r)+o+e)},easeInOutElastic:function(t,e,i,s){var n,r,a,o=i-e;return(a=1.70158,r=0,n=o,0===t)?e:2==(t/=s/2)?e+o:(r||(r=.3*1.5*s),n<Math.abs(o)?(n=o,a=r/4):a=r/(2*Math.PI)*Math.asin(o/n),t<1)?-.5*(n*Math.pow(2,10*(t-=1))*Math.sin(2*Math.PI*(t*s-a)/r))+e:n*Math.pow(2,-10*(t-=1))*Math.sin(2*Math.PI*(t*s-a)/r)*.5+o+e},easeInBack:function(t,e,i,s,n){return void 0===n&&(n=1.70158),(i-e)*(t/=s)*t*((n+1)*t-n)+e},easeOutBack:function(t,e,i,s,n){return void 0===n&&(n=1.70158),(i-e)*((t=t/s-1)*t*((n+1)*t+n)+1)+e},easeInOutBack:function(t,e,i,s,n){var r=i-e;return(void 0===n&&(n=1.70158),(t/=s/2)<1)?r/2*(t*t*(((n*=1.525)+1)*t-n))+e:r/2*((t-=2)*t*(((n*=1.525)+1)*t+n)+2)+e},easeInBounce:function(t,i,s,n){var r,a=s-i;return r=e.easeOutBounce(n-t,0,a,n),a-r+i},easeOutBounce:function(t,e,i,s){var n=i-e;return(t/=s)<1/2.75?7.5625*t*t*n+e:t<2/2.75?n*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?n*(7.5625*(t-=2.25/2.75)*t+.9375)+e:n*(7.5625*(t-=2.625/2.75)*t+.984375)+e},easeInOutBounce:function(t,i,s,n){var r,a=s-i;return t<n/2?.5*e.easeInBounce(2*t,0,a,n)+i:.5*e.easeOutBounce(2*t-n,0,a,n)+.5*a+i}};t.exports=e},35695:(t,e,i)=>{"use strict";var s=i(18999);i.o(s,"usePathname")&&i.d(e,{usePathname:function(){return s.usePathname}}),i.o(s,"useRouter")&&i.d(e,{useRouter:function(){return s.useRouter}}),i.o(s,"useSearchParams")&&i.d(e,{useSearchParams:function(){return s.useSearchParams}})},63233:(t,e,i)=>{"use strict";i.d(e,{DP:()=>n,JI:()=>a,LJ:()=>r,sA:()=>o,supabase:()=>s});let s=(0,i(10851).UU)("https://yfnbnytutxdbmyvfsyba.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlmbmJueXR1dHhkYm15dmZzeWJhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDQ5MjAwNTksImV4cCI6MjA2MDQ5NjA1OX0.HJhDpx79rDzl5DZIh3qJZbBrSwudG95htPXOs2IGD30",{auth:{persistSession:!0,detectSessionInUrl:!0}}),n=async()=>{let{data:t,error:e}=await s.from("workout_logs").select("*").order("date",{ascending:!0});return e?(console.error("Error fetching workout logs:",e.message),[]):t},r=async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30,{data:e,error:i}=await s.from("workout_logs").select("date, skipped").order("date",{ascending:!1}).limit(t);return i?(console.error("Error fetching workout logs for last N days:",i.message),[]):e},a=t=>{let e=0;for(let i of t){if(i.skipped)break;e++}return e},o=t=>{let e=0,i=0;for(let s of t)s.skipped?(i>e&&(e=i),i=0):i++;return i>e&&(e=i),e}},66018:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>M,dynamic:()=>I});var s,n,r=i(95155),a=i(12115),o=i(75342),h=i(35695),c=i(63233),u=i(10729);function l(t,e){return t+Math.random()*(e-t)}!function(t){t[t.Circle=0]="Circle",t[t.Square=1]="Square",t[t.Strip=2]="Strip"}(s||(s={})),function(t){t[t.Positive=1]="Positive",t[t.Negative=-1]="Negative"}(n||(n={}));let f=1e3/60;class d{constructor(t,e,i,s){var r;this.getOptions=e;let{colors:a,initialVelocityX:o,initialVelocityY:h}=this.getOptions();this.context=t,this.x=i,this.y=s,this.w=l(5,20),this.h=l(5,20),this.radius=l(5,10),this.vx="number"==typeof o?l(-o,o):l(o.min,o.max),this.vy="number"==typeof h?l(-h,0):l(h.min,h.max),this.shape=(r=0,Math.floor(0+3*Math.random())),this.angle=l(0,360)*Math.PI/180,this.angularSpin=l(-.2,.2),this.color=a[Math.floor(Math.random()*a.length)],this.rotateY=l(0,1),this.rotationDirection=l(0,1)?n.Positive:n.Negative}update(t){let{gravity:e,wind:i,friction:r,opacity:a,drawShape:o}=this.getOptions(),h=t/f;this.x+=this.vx*h,this.y+=this.vy*h,this.vy+=e*h,this.vx+=i*h,this.vx*=r**h,this.vy*=r**h,this.rotateY>=1&&this.rotationDirection===n.Positive?this.rotationDirection=n.Negative:this.rotateY<=-1&&this.rotationDirection===n.Negative&&(this.rotationDirection=n.Positive);let c=.1*this.rotationDirection*h;if(this.rotateY+=c,this.angle+=this.angularSpin,this.context.save(),this.context.translate(this.x,this.y),this.context.rotate(this.angle),this.context.scale(1,this.rotateY),this.context.rotate(this.angle),this.context.beginPath(),this.context.fillStyle=this.color,this.context.strokeStyle=this.color,this.context.globalAlpha=a,this.context.lineCap="round",this.context.lineWidth=2,o&&"function"==typeof o)o.call(this,this.context);else switch(this.shape){case s.Circle:this.context.beginPath(),this.context.arc(0,0,this.radius,0,2*Math.PI),this.context.fill();break;case s.Square:this.context.fillRect(-this.w/2,-this.h/2,this.w,this.h);break;case s.Strip:this.context.fillRect(-this.w/6,-this.h/2,this.w/3,this.h)}this.context.closePath(),this.context.restore()}}class p{constructor(t,e){this.x=0,this.y=0,this.w=0,this.h=0,this.lastNumberOfPieces=0,this.tweenProgress=0,this.tweenFrom=0,this.particles=[],this.particlesGenerated=0,this.removeParticleAt=t=>{this.particles.splice(t,1)},this.getParticle=()=>{let t=l(this.x,this.w+this.x),e=l(this.y,this.h+this.y);return new d(this.context,this.getOptions,t,e)},this.animate=t=>{let{canvas:e,context:i,particlesGenerated:s,lastNumberOfPieces:n}=this,{run:r,recycle:a,numberOfPieces:o,debug:h,tweenFunction:c,tweenDuration:u}=this.getOptions();if(!r)return!1;let l=this.particles.length,f=a?l:s;if(f<o){n!==o&&(this.tweenProgress=0,this.tweenFrom=f,this.lastNumberOfPieces=o),this.tweenProgress=Math.min(u,Math.max(0,this.tweenProgress+t));let e=Math.round(c(this.tweenProgress,this.tweenFrom,o,u)-f);for(let t=0;t<e;t++)this.particles.push(this.getParticle());this.particlesGenerated+=e}h&&(i.font="12px sans-serif",i.fillStyle="#333",i.textAlign="right",i.fillText(`Particles: ${l}`,e.width-10,e.height-20));for(let i=this.particles.length-1;i>=0;i--){let s=this.particles[i];s.update(t),(s.y>e.height||s.y<-100||s.x>e.width+100||s.x<-100)&&(a&&f<=o?this.particles[i]=this.getParticle():this.removeParticleAt(i))}return l>0||f<o},this.canvas=t;let i=this.canvas.getContext("2d");if(!i)throw Error("Could not get canvas context");this.context=i,this.getOptions=e}}let m={width:"undefined"!=typeof window?window.innerWidth:300,height:"undefined"!=typeof window?window.innerHeight:200,numberOfPieces:200,friction:.99,wind:0,gravity:.1,initialVelocityX:4,initialVelocityY:10,colors:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722","#795548"],opacity:1,debug:!1,tweenFunction:u.easeInOutQuad,tweenDuration:5e3,recycle:!0,run:!0};class g{constructor(t,e){this.lastFrameTime=0,this.setOptionsWithDefaults=t=>{let e={confettiSource:{x:0,y:0,w:this.canvas.width,h:0}};this._options={...e,...m,...t},Object.assign(this,t.confettiSource)},this.update=(t=0)=>{let{options:{run:e,onConfettiComplete:i,frameRate:s},canvas:n,context:r}=this,a=Math.min(t-this.lastFrameTime,50);if(s&&a<1e3/s){this.rafId=requestAnimationFrame(this.update);return}this.lastFrameTime=t-(s?a%s:0),e&&(r.fillStyle="white",r.clearRect(0,0,n.width,n.height)),this.generator.animate(a)?this.rafId=requestAnimationFrame(this.update):(i&&"function"==typeof i&&this.generator.particlesGenerated>0&&i.call(this,this),this._options.run=!1)},this.reset=()=>{this.generator&&this.generator.particlesGenerated>0&&(this.generator.particlesGenerated=0,this.generator.particles=[],this.generator.lastNumberOfPieces=0)},this.stop=()=>{this.options={run:!1},this.rafId&&(cancelAnimationFrame(this.rafId),this.rafId=void 0)},this.canvas=t;let i=this.canvas.getContext("2d");if(!i)throw Error("Could not get canvas context");this.context=i,this.generator=new p(this.canvas,()=>this.options),this.options=e,this.update()}get options(){return this._options}set options(t){let e=this._options?.run,i=this._options?.recycle;this.setOptionsWithDefaults(t),this.generator&&(Object.assign(this.generator,this.options.confettiSource),"boolean"==typeof t.recycle&&t.recycle&&!1===i&&(this.generator.lastNumberOfPieces=this.generator.particles.length)),"boolean"==typeof t.run&&t.run&&!1===e&&this.update()}}let x=a.createRef();class v extends a.Component{constructor(t){super(t),this.canvas=a.createRef(),this.canvas=t.canvasRef||x}componentDidMount(){if(this.canvas.current){let t=w(this.props)[0];this.confetti=new g(this.canvas.current,t)}}componentDidUpdate(){let t=w(this.props)[0];this.confetti&&(this.confetti.options=t)}componentWillUnmount(){this.confetti&&this.confetti.stop(),this.confetti=void 0}render(){let[t,e]=w(this.props),i={zIndex:2,position:"absolute",pointerEvents:"none",top:0,left:0,bottom:0,right:0,...e.style};return(0,r.jsx)("canvas",{width:t.width,height:t.height,ref:this.canvas,...e,style:i})}}function w(t){let e={},i={},s=[...Object.keys(m),"confettiSource","drawShape","onConfettiComplete","frameRate"],n=["canvasRef"];for(let r in t){let a=t[r];s.includes(r)?e[r]=a:n.includes(r)?n[r]=a:i[r]=a}return[e,i,{}]}v.defaultProps={...m},v.displayName="ReactConfetti";let y=a.forwardRef((t,e)=>(0,r.jsx)(v,{canvasRef:e,...t})),I="force-dynamic",b=["Every rep counts. Keep showing up! \uD83D\uDCAA","Consistency beats perfection. Stay strong! \uD83D\uDE80","Small steps every day = big results. \uD83C\uDF1F","You're closer than you think. Keep pushing! \uD83D\uDD25","Today’s effort builds tomorrow’s strength! \uD83C\uDFC6","Believe in your momentum! \uD83C\uDFAF"];function M(){let t=(0,h.useRouter)(),[e,i]=(0,a.useState)("completed"),s="completed"===e,[n,u]=(0,a.useState)(""),[l,f]=(0,a.useState)(s),[d,p]=(0,a.useState)(500*!!s),[m,g]=function(){let[t,e]=(0,a.useState)([0,0]);return(0,a.useEffect)(()=>{let t=()=>{e([window.innerWidth,window.innerHeight])};return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]),t}();(0,a.useEffect)(()=>{if(l){let t=setTimeout(()=>{let t=setInterval(()=>{p(e=>e>0?e-5:(clearInterval(t),f(!1),0))},100)},1e3);return()=>{clearTimeout(t)}}},[l]);let[x,v]=(0,a.useState)(0),[w,I]=(0,a.useState)(0);return(0,a.useEffect)(()=>{if(x>0){let t=0,e=100;!function i(){I(t+=1),t<x&&setTimeout(i,e=Math.max(20,e-2))}()}},[x]),(0,a.useEffect)(()=>{(async function(){try{let t=await (0,c.LJ)(30),e=(0,c.JI)(t);v(e)}catch(t){console.error("Error fetching streak:",t)}})(),u(b[Math.floor(Math.random()*b.length)])},[]),(0,r.jsxs)("div",{className:"min-h-screen bg-[#242B2F] flex flex-col items-center justify-center text-white p-6 text-center relative overflow-hidden",children:[(0,r.jsx)(a.Suspense,{fallback:null,children:(0,r.jsx)(o.A,{param:"type",fallback:"completed",onResult:i})}),d>0&&(0,r.jsx)(y,{width:m,height:g,numberOfPieces:d,gravity:.5,initialVelocityY:10,recycle:!1}),(0,r.jsx)("h1",{className:"text-5xl font-extrabold mb-4 ".concat(s?"text-green-400":"text-blue-400"),children:s?"\uD83C\uDFAF Mission Complete!":"\uD83C\uDF31 Recovery Day!"}),(0,r.jsxs)("p",{className:"text-md text-green-300 mb-4",children:["\uD83D\uDD25 Current Streak: ",w," Day",1!==w?"s":""]}),(0,r.jsx)("p",{className:"text-lg text-gray-300 mb-8",children:n}),(0,r.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,r.jsx)("button",{className:"bg-gradient-to-r from-pink-500 to-pink-700 text-white py-3 px-6 rounded-2xl font-bold text-lg shadow-glow hover:shadow-glow-hover transition duration-300",onClick:()=>t.push("/"),children:"\uD83C\uDFE1 Return Home"}),(0,r.jsx)("button",{className:"bg-gradient-to-r from-pink-600 to-red-600 text-white py-3 px-6 rounded-2xl font-bold text-lg shadow-glow hover:shadow-glow-hover transition duration-300",onClick:()=>t.push("/calendar"),children:"\uD83D\uDCC5 View Calendar"})]})]})}},68432:(t,e,i)=>{Promise.resolve().then(i.bind(i,66018))},75342:(t,e,i)=>{"use strict";i.d(e,{A:()=>n});var s=i(35695);function n(t){let{param:e,fallback:i,onResult:n}=t,r=(0,s.useSearchParams)().get(e)||i;return n&&n(r),null}}},t=>{var e=e=>t(t.s=e);t.O(0,[851,441,684,358],()=>e(68432)),_N_E=t.O()}]);